# **Начнем изучение "DotcLUI"**

---

## **Глава I**
> #### **"Что такое DotcLUI?"**

<br>

**DotcLUI** - это UI framework написанный на Lua (Love2D, dkjson) + Python, Разрабатывается **Dovintc** из команды **Xwared**, Предназначен он для новичков или же для людей которые хотят быстро создать игру. **UI элементы** это: кнопки, заголовки, чекбоксы, стили, и т.д.

**Python** в DotcLUI используется для парсинга стилей из нового типа файлов `.dli`
В будущем будет возможность выбрать парсер Python или Lua

Сейчас проект работает в связке **Lua + Love2D** но в будущем будет создан еще один фреймворк в связке **Python + PyGame**

Советы:
1. Используйте расширение `Markdown Preview Enhanced` для удобного просмотра `.md` файлов внутри редактора кода **Visual Studio Code** нажав: `ctrl + k` `v` в файле у вас сбоку откроется панель с открытым `.md` файлом. 

2. Инструкция по использованию DotcLUI идет в одном файле и сложность функций постепенно возрастает листая ниже

[Ссылка на оригинальный код DotcLUI](https://github.com/dovintc-off/DotcLUI)

---

## **Глава II**
> #### **"Как работать с DotcLUI?"**


<br>

Для того чтобы использовать Фреймворк в начале надо его импортировать, в Lua импорт происходит через функцию `require()` в саму функцию мы передаем путь к библиотеке, вот так должна выглядеть правильная архитектура проекта:

```
Folder_your_project/
├── DotcLUI/
│   ├── other_file
│   └── init.lua
│
├── other_your_file
├── style.dli
└── main.lua
```

Рассказав о том где должны лежать файлы продолжим изучение, чтобы уже полноценно использовать DotcLUI надо в начале добавить строку с таким содержиым: `local DotcLUI = require("DotcLUI.init")`,
1. `local DotcLUI` - эта строка создает переменную где хранятся все функции фреймворка, а название переменной может быть любой, частая проблема в том что люди переназначают переменную которую они используют, будьте осторожны! 
<br>
2. `require("DotcLUI.init")` - эта строка импортирует все функции которые есть в фреймворке (кроме тех что не нужны человеку в UI элементах, к примеру для расчетов и т.д.)

Большая часть всех функций должна находится в `function love.load()` иначе ничего не отобразится. Таковыми являются к примеру `text.new()`

---

## **Глава III**
> #### **Модули в DotcLUI**
<u>Разобравшись с подключением фреймворка можно перейти к работе с DotcLUI</u>
<br>

### **Модуль `text`**

#### **`text()`**
В функции находятся только именованные значения и передаются через запятую, например:
``` Lua
DotcLUI.text({text = "Hello, World!"})
```
Если передать просто `"Hello, World!"` то ничего не получится.

В аргументы могут поступать любые значения из таблицы приведенной ниже, после таблицы будут приведены и объяснены некоторые примеры.

| Поле        | Тип         | Описание    |
|-------------|-------------|-------------|
|text| текст, число, булевое значение       | **Обязательно**, Текст для отображения, будет преобразован в строку  |
| cords | таблица     | Координаты: `{100, 200}` первое **x** второе **y**.    |
| font        | строка      | Путь к файлу шрифта (только `.ttf`) |
| size        | число       | Размер шрифта (работает только если указан `font`)|
| color       | таблица     | последним значением указывается тип цвета такие как: `rgb`, `rgba`, `love`|

``` Lua
DotcLUI.text(
    cords = {100, 200},
    text = "Hello!", 
    size = 50,
    font = "DotcLUI/style/font/Arial/Arial.ttf", -- Или можно просто Arial
    color = {"rgb", 255, 255, 0}
)
```
В данном примере указану все возможные значения от `text` до `color`. Как можно заметить все значения передаются через запятую. И притом не важно что `text` идет после цвета это ничего не меняет, и позиция аргументов неважна.

Расскажу кратко про `color` и как это работает. Вы можете передать список `{"rgb", 255, 255, 255}` это правильно! но если `{255, 255, 0, "rgba"}` то это ошибка так как в rgba надо указывать четыре значения, из них первые три это цвет от 0 до 255 (если rgb или rgba) четвертым идет альфа канал и пятым тип цвета, также есть тип `love` у него идут значения от 0 до 1 и там уже определяется если вы передали список с четырьмя значениями `{1, 1, 1, "love"}` то альфа канал становится на 1 по умолчанию а если пять значений {1, 1, 1, 0.8, "love"} то 4 значение встает в альфа канал. 

---

#### **`der()`**

⚠️ **der( ) — служебная функция для разработчиков фреймворка Используйте text() в обычных проектах.**
В функции находятся только позиционные значения и передаются через запятую

Это функция выводит базовый текст, без шрифта. Используется для отладки. Указывать координаты не обязательно так как базовое значение стоит 100, 100

В аргументы могут поступать любые значения из таблицы приведенной ниже, после таблицы будут приведены и объяснены некоторые примеры.

| Поле        | Тип         | Описание    |
|-------------|-------------|-------------|
| srgs[1] | Строка, число | Обязательно
|args[2]|целое число| Необязателен, кордината x |
|args[3]|целое число| Необязателен, кордината y |
``` Lua
DotcLUI.ui.text.der(
    "Debug Text",
    100, 100
    )
```

---

### **Модуль `color`**
#### **`color.set_rgb()`**

Устанавливает цвет по rgb. Эта функция может использоватся как с 4 аргументами (3 компонента и 1 альфа канал) так и с 3 (только компоненты). Ниже приведена таблица с аргументами которая она принимает:

|Поле      |Тип       |Описание   |
|----------|----------|-----------|
| args[1]  |число     | от 1 до 255 |
| args[2]  |число     | от 1 до 255 |
| args[3]  |число     | от 1 до 255 |
| args[4]  |число     | необязателен, от 1 до 255 |

---

#### **`color.set_love()`**

Устанавливает цвет по love. Эта функция может использоватся как с 4 аргументами (3 компонента и 1 альфа канал) так и с 3 (только компоненты). Нтже приведена таблица с аргументами которая она принимает:

|Поле      |Тип       |Описание   |
|----------|----------|-----------|
| args[1]  |число     | от 0 до 1 |
| args[2]  |число     | от 0 до 1 |
| args[3]  |число     | от 0 до 1 |
| args[4]  |число     | необязателен, от 0 до 1 |

---

### **Модуль `style`**
#### **`style_from_file()`**

Достаточно важная функция в фрейм ворке. Она используется для передачи пути к файлу со стилями (Он называется .dli, ниже будет рассказано тчо это). Вы просто должны указать путь к файлу с типом .dli пример:

``` Lua
DotcLUI.style_from_file("style.dli")
```

Проще говоря эта функция делает тоже самое что и в HTML просто указывает на файл со стилями. (Идея была взята как раз из HTML)

---

#### **`get_style_from_file()`**

Эта функция возвращает `true` или `false` взависимо от того ичпользовалась ли функция `style_from_file()` обычно она используется внутри кода, но на всякий случай я оставил для пользователей

---

### **Модуль `font`**
#### **`set()`**

Функция принимает два аргумента первый `path_font` путь к шрифту а вторым размер. Если не указывать размер текста то автоматически будет установлено **20**, если не будет казан шрифт то будет выбран базовый **Arial**. Полный путь к Arial: `DotcLUI/style/font/Arial/Arial.ttf` 

На данный момент возможнсть изменить только цвет или шрифт еще не доступна, но всегда можно указать nil и ничего не произойдет.

---

## **Глава IV**
> ### **Что такое .dli файлы и причем тут Python?**

.dli файлы это тоже самое что файлы .css они также используются для определения стилей. Кому лень читать тот может пролистать вниз и увидеть таблицу всех типов стилей, для любого типа UI элемента.

### **Структура `.dli` файлов**

Каждый тип UI элемента разделен к прмеру text и botton не могут быть в одной группе стилей. пример:
``` dli
{text: <-- вот двоеточие
    ...
},
{button:
    ...
}
```
**Запомните что после указания типа UI элемента надо поставить двоеточие! ( : )**

если вы напишите не существующий стиль к примеру Outline (Его еще нет в DotcLUI) ничего не произойдет парсер просто создаст объекст со стилями которые указаны в файле но только те которые существуют. Дальше я расскажу про то какие существуют стили и как их правильно передавать!

### **Стили и то как их правильно передавать**

Начнем с базы `color` и `size`. Любой стиль передается через маленькое тире (минус или `-`). Пример:

``` dli
{text:
    color-rgb(255, 255, 255)
}
```

У `color` всего есть 3 вариации  это:

`color-rgb()` - 3 аргумента в скобках то 0 до 255
`color-rgba()` - 4 аргумента в скобках от 0 до 255 (4 альфа канал)
`color-love()` - 3 - 4 аргумента в скобках от 0 до 1, включая не целые значения (0.4 или 0.19) если 3 аргумента то альфа канал на 1 если 4 то 4 аргумент становится в альфа канал

В стиле `size` можно казать любое значение от 0 до Бесконечности, пример:

```
{text:
    size-40
}
```
<br>
В `font` можно передать как путь к файлу так и просто текст. С первым вариантом все понятно просто указать путь к файлу в ковычках, а вот у второго способа есть два варианта: указать `"Arial"` или `"Arial Bold"` тогда шрифт сам подставится. Пример:

```
{text:
    font-"font/CascadeCode.ttf"
}

{text:
    font-"Arial"
}
```

### **Важное примечание!**
Если у вас более 2 типов стилей к примеру size и font то между ними должна быть `,`. Пример:

```
{text:
    font-"Arial", <-- вот она
    size-67
}
```

# **Что в итоге?**

Мы теперь имеем таблицу со всеми возможными стилями:
v
Если ячейка пустая то объект не потдерживает такой тип стиля
|Тип стиля| Text |
|---------|------|
|color    |rgb, rgba, love|
|font     |полный путь к файлу или "Arial"|
|size     |любое число от 0 до беконечности|

И правильный  и полностью рабочий код:
``` Lua
local DotcLUI = require("DotcLUI.init")

function love.load()
    DotcLUI.style.from_file("style.dli")
end

function love.draw()
    DotcLUI.text({
        text = "Привет, DotcLUI!",
        cords = {50, 100}
    })
end
```